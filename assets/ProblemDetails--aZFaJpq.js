import{b as m,R as e,w as y,B as re}from"./Toast-OISi9GcT.js";import{s as le,S as ce,p as oe,h as E,E as ie,i as me,R as P,v as Y}from"./index-FogrHtcu.js";import{h as C}from"./moment-WSJ9un1t.js";import{$ as b}from"./iconBase-pjIET6RN.js";import{a as de}from"./axios-L6U4YIEh.js";import{u as ue,c as pe}from"./index-wUg-ar-9.js";const he=U("end"),fe=U("start");function U(a){return t;function t(n){const s=n&&n.position&&n.position[a]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function be(a){const t=fe(a),n=he(a);if(t&&n)return{start:t,end:n}}const v=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],W={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...v,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...v],h2:[["className","sr-only"]],img:[...v,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...v,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...v],table:[...v],ul:[...v,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},N={}.hasOwnProperty;function ge(a,t){let n={type:"root",children:[]};const s={schema:t?{...W,...t}:W,stack:[]},r=_(s,a);return r&&(Array.isArray(r)?r.length===1?n=r[0]:n.children=r:n=r),n}function _(a,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return ye(a,n);case"doctype":return Ee(a,n);case"element":return Ne(a,n);case"root":return ve(a,n);case"text":return xe(a,n)}}}function ye(a,t){if(a.schema.allowComments){const n=typeof t.value=="string"?t.value:"",s=n.indexOf("-->"),l={type:"comment",value:s<0?n:n.slice(0,s)};return x(l,t),l}}function Ee(a,t){if(a.schema.allowDoctypes){const n={type:"doctype"};return x(n,t),n}}function Ne(a,t){const n=typeof t.tagName=="string"?t.tagName:"";a.stack.push(n);const s=G(a,t.children),r=we(a,t.properties);a.stack.pop();let l=!1;if(n&&n!=="*"&&(!a.schema.tagNames||a.schema.tagNames.includes(n))&&(l=!0,a.schema.ancestors&&N.call(a.schema.ancestors,n))){const h=a.schema.ancestors[n];let u=-1;for(l=!1;++u<h.length;)a.stack.includes(h[u])&&(l=!0)}if(!l)return a.schema.strip&&!a.schema.strip.includes(n)?s:void 0;const o={type:"element",tagName:n,properties:r,children:s};return x(o,t),o}function ve(a,t){const s={type:"root",children:G(a,t.children)};return x(s,t),s}function xe(a,t){const s={type:"text",value:typeof t.value=="string"?t.value:""};return x(s,t),s}function G(a,t){const n=[];if(Array.isArray(t)){const s=t;let r=-1;for(;++r<s.length;){const l=_(a,s[r]);l&&(Array.isArray(l)?n.push(...l):n.push(l))}}return n}function we(a,t){const n=a.stack[a.stack.length-1],s=a.schema.attributes,r=a.schema.required,l=s&&N.call(s,n)?s[n]:void 0,o=s&&N.call(s,"*")?s["*"]:void 0,h=t&&typeof t=="object"?t:{},u={};let i;for(i in h)if(N.call(h,i)){const p=h[i];let f=K(a,Q(l,i),i,p);f==null&&(f=K(a,Q(o,i),i,p)),f!=null&&(u[i]=f)}if(r&&N.call(r,n)){const p=r[n];for(i in p)N.call(p,i)&&!N.call(u,i)&&(u[i]=p[i])}return u}function K(a,t,n,s){return t?Array.isArray(s)?De(a,t,n,s):J(a,t,n,s):void 0}function De(a,t,n,s){let r=-1;const l=[];for(;++r<s.length;){const o=J(a,t,n,s[r]);(typeof o=="number"||typeof o=="string")&&l.push(o)}return l}function J(a,t,n,s){if(!(typeof s!="boolean"&&typeof s!="number"&&typeof s!="string")&&Ce(a,n,s)){if(typeof t=="object"&&t.length>1){let r=!1,l=0;for(;++l<t.length;){const o=t[l];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(s))){r=!0;break}}else if(o===s){r=!0;break}}if(!r)return}return a.schema.clobber&&a.schema.clobberPrefix&&a.schema.clobber.includes(n)?a.schema.clobberPrefix+s:s}}function Ce(a,t,n){const s=a.schema.protocols&&N.call(a.schema.protocols,t)?a.schema.protocols[t]:void 0;if(!s||s.length===0)return!0;const r=String(n),l=r.indexOf(":"),o=r.indexOf("?"),h=r.indexOf("#"),u=r.indexOf("/");if(l<0||u>-1&&l>u||o>-1&&l>o||h>-1&&l>h)return!0;let i=-1;for(;++i<s.length;){const p=s[i];if(l===p.length&&r.slice(0,p.length)===p)return!0}return!1}function x(a,t){const n=be(t);t.data&&(a.data=le(t.data)),n&&(a.position=n)}function Q(a,t){let n,s=-1;if(a)for(;++s<a.length;){const r=a[s],l=typeof r=="string"?r:r[0];if(l===t)return r;l==="data*"&&(n=r)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function F(a){return function(t){return ge(t,a)}}const B=[ce.define(oe)],Fe=()=>{document.title="Problem Detail";const t=ue().data,{id:n}=pe(),[s,r]=m.useState(t.title),[l,o]=m.useState(t.code),[h,u]=m.useState(t.level),[i,p]=m.useState(t.description),[f,w]=m.useState(t.testCases),[k,H]=m.useState(t.workTime),[S,X]=m.useState(k.hours),[T,Z]=m.useState(k.minute),[L,O]=m.useState(C(t.startDate).format("YYYY-MM-DDTHH:mm")),[A,I]=m.useState(C(t.endDate).format("YYYY-MM-DDTHH:mm")),[q,j]=m.useState(t.baseImport),[R,z]=m.useState(t.baseFunction),[$,V]=m.useState(t.baseMain),[d,M]=m.useState(!1);b("input").attr("readonly",!d),b(".w-md-editor-text-input").attr("readonly",!d),b(".cm-content").attr("aria-readonly",!d),b("#btn-addTest").attr("disabled",!d),m.useEffect(()=>{w(t.testCases),H({hours:S,minutes:T})},[t.testCases,S,T]);const ee=()=>{w([...f,""]),console.log(f)},te=(c,g)=>{const D=[...f];D[c]=g,w(D)},ae=()=>{b("input").attr("readonly",d),b(".w-md-editor-text-input").attr("readonly",d),b("#btn-addTest").attr("disabled",d),b(".cm-content").attr("aria-readonly",!d),M(!d)},ne=async()=>{try{const c={title:s,level:h,description:i,code:l,testCases:f,workTime:k,baseFunction:R,baseMain:$,baseImport:q,startDate:L,endDate:A};await de.put(`http://localhost:8001/problems/${n}`,c,{withCredentials:!0}).then(g=>{console.log(g)}).catch(g=>{console.log(g)})}catch(c){return c}M(!1)},se=()=>{b("input").attr("readonly",!d),b(".w-md-editor-text-input").attr("readonly",!d),b("#btn-addTest").attr("disabled",!d),b(".cm-content").attr("aria-readonly",!d),r(t.title),o(t.code),u(t.level),p(t.description),w(t.testCases),H(t.workTime),O(C(t.startDate).format("YYYY-MM-DDTHH:mm")),I(C(t.endDate).format("YYYY-MM-DDTHH:mm")),j(t.baseImport),z(t.baseFunction),V(t.baseMain),M(!1)};return e.createElement("div",null,e.createElement("div",{className:"header my-4 flex justify-between"},e.createElement("h1",{className:"font-semibold text-xl"},"Problem Details"),e.createElement("div",{className:"buttons"},d?e.createElement("div",null,e.createElement("button",{className:"bg-red-500 text-white px-3 py-1 rounded mr-2",onClick:se},"Cancel"),e.createElement("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:ne},"Submit")):e.createElement("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:ae},"Edit"))),e.createElement("div",{className:"container bg-slate-100 shadow-lg rounded-lg p-3"},e.createElement("div",{className:"grid gap-y-6"},e.createElement("div",{className:"title"},e.createElement("h4",{className:"font-semibold mb-3"},"Title"),e.createElement("input",{className:"w-full rounded-xl border-none shadow-md",type:"text",name:"title",id:"title",value:s,onChange:c=>r(c.target.value)})),e.createElement("div",{className:"codeLevel grid grid-cols-2 gap-x-6"},e.createElement("div",{className:"code"},e.createElement("h4",{className:"font-semibold mb-3"},"Code"),e.createElement("input",{className:"w-full rounded-xl border-none shadow-md",type:"text",name:"code",id:"code",value:l,onChange:c=>o(c.target.value)})),e.createElement("div",{className:"level"},e.createElement("div",{className:"flex items-center mb-3"},e.createElement("h4",{className:"font-semibold me-2"},"Level"),e.createElement(y,{content:"Define the problem difficulty 1-3",style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("input",{className:"w-full rounded-xl border-none shadow-md",type:"number",min:"1",max:"3",name:"level",id:"level",value:h,onChange:c=>u(c.target.value)}))),e.createElement("div",{className:"description"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Description"),e.createElement(y,{content:"Describe the problem and the expected solution, including examples, using Markdown. This will help students understand the problem and its expected output.",style:"light",className:"w-1/2",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"editor rounded-lg"},e.createElement(ie,{value:i,onChange:p,preview:"live"}))),e.createElement("div",{className:"testCases"},e.createElement("div",{className:"flex justify-between"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Test Cases"),e.createElement(y,{content:`Enter at least 2 values separated by commas. The last value represents the expected result of the function, while the preceding values are the input parameters for the function.

For example, for a function add(a, b) that returns a + b  . Test cases should be defined as '1,2,3' or '2,2,4', where the last value is the expected result and the preceding values are the function parameters.`,style:"light",className:"w-1/2",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement(re,{size:"sm",id:"btn-addTest",className:"me-4 w-16 h-10",color:"success",onClick:ee},e.createElement(me,{className:"mr-2 h-3 w-3"})," Test")),e.createElement("div",{id:"testCasesContainer",className:"flex flex-wrap"},f.map((c,g)=>e.createElement("input",{className:"w-1/6 rounded-xl border-none shadow-md me-3 mb-3",key:g,type:"text",value:c,onChange:D=>te(g,D.target.value)})))),e.createElement("div",{className:"timeDueDate grid grid-cols-2"},e.createElement("div",{className:"workTime"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Work Time"," ",e.createElement("small",{className:"text-gray-500"},"(Hours : Minutes)")),e.createElement(y,{content:"Estimated time this problem should be solved",style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"flex items-center"},e.createElement("input",{className:"rounded-xl border-none shadow-md",type:"number",min:"0",name:"hours",id:"hours",value:S,onChange:c=>X(c.target.value)}),e.createElement("div",{className:"mx-3"},":"),e.createElement("input",{className:"rounded-xl border-none shadow-md",type:"number",min:"0",name:"minute",id:"minute",value:T,onChange:c=>Z(c.target.value)}))),e.createElement("div",{className:"dueDate"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Due Date",e.createElement("small",{className:"text-gray-500"},"(Start Date - End Date)")),e.createElement(y,{content:"Due date this problem is assign to the students",style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"flex items-center"},e.createElement("input",{className:"w-60 rounded-xl border-none shadow-md p-2",type:"datetime-local",name:"startDate",id:"startDate",value:L,onChange:c=>O(c.target.value)}),e.createElement("div",{className:"mx-3"},"-"),e.createElement("input",{className:"w-60 rounded-xl border-none shadow-md p-2",type:"datetime-local",name:"endDate",id:"endDate",value:A,onChange:c=>I(c.target.value)})))),e.createElement("div",{className:"baseFunction"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Base Function"),e.createElement(y,{content:"Function with paramater for the solution to be write with",style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"p-2 bg-[#1e1e1e] rounded-md w-full"},e.createElement("div",{className:"text-left items-center",height:"100vh"},e.createElement(P,{className:"text-sm rounded",height:"15vh",value:R,theme:Y,extensions:B,onChange:(c,g)=>{z(c)},previewOptions:{rehypePlugins:[[F]]}})))),e.createElement("div",{className:"importMain flex"},e.createElement("div",{className:"baseImport w-1/2 me-3"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Base Import"),e.createElement(y,{content:"Necessary import to run the program",style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"p-2 bg-[#1e1e1e] rounded-md me-3"},e.createElement("div",{className:"text-left items-center",height:"100vh"},e.createElement(P,{className:"text-sm rounded",height:"15vh",value:q,theme:Y,extensions:B,onChange:(c,g)=>{j(c)},previewOptions:{rehypePlugins:[[F]]}})))),e.createElement("div",{className:"baseMain w-1/2 ms-3"},e.createElement("div",{className:"flex items-center"},e.createElement("h4",{className:"font-semibold my-3 me-2"},"Base Main"),e.createElement(y,{content:e.createElement("p",null,"Test Case handler to help run this program to get if the result is as expected or not ",e.createElement("br",null),"Pattern : print(functionName($","test[0]",") == $","test[1]",") ",e.createElement("br",null),"Test varible use to define test cases."),style:"light",className:"w-fit",placement:"right"},e.createElement(E,{className:"text-gray-500"}))),e.createElement("div",{className:"p-2 bg-[#1e1e1e] rounded-md me-3"},e.createElement("div",{className:"text-left items-center",height:"100vh"},e.createElement(P,{className:"text-sm rounded",height:"15vh",value:$,theme:Y,extensions:B,onChange:(c,g)=>{V(c)},previewOptions:{rehypePlugins:[[F]]}}))))))))};export{Fe as P};
