import{b as s,R as c}from"./Toast-OISi9GcT.js";import{a as o}from"./axios-L6U4YIEh.js";import{b as f}from"./index-wUg-ar-9.js";const h=s.createContext(),d=({children:i})=>{const r=f(),[l,a]=s.useState(()=>{let t=localStorage.getItem("userProfile");return t?JSON.parse(t):r("/login")}),n=async t=>{let e=await o.post("http://localhost:8001/auth/login",t,{withCredentials:!0});localStorage.setItem("userProfile",JSON.stringify(e.data.user)),a(e.data.user),r("/")},u=async t=>{let e=await o.post("http://localhost:8001/auth/refresh-token",t,{withCredentials:!0});localStorage.setItem("userProfile",JSON.stringify(e.data.user)),a(e.data.user)};return c.createElement(h.Provider,{value:{user:l,login:n,refresh:u}},i)};export{h as A,d as a};
